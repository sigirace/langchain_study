## 4. MODEL IO

### 4.1 FewShotPromptTemplate

📌 **PromptTemplate의 방법 2가지**

```python
# 1
t = PromptTemplate.from_template("What is the capital of {country}?",)

# 2
t = PromptTemplate(
    template="What is the capital of {country}?",
    input_variables=["country"],
)

print(t.format(country="France"))
```

```
PromptTemplate(input_variables=['country'], template='What is the capital of {country}?')
```

👀 **FewShot**

> 어떻게 대답해야하는지 모델에게 예제를 줌

📍 **FewShotPromptTemplate**

- 예시와 사용자 질문이 포함되는 템플릿
- _parameters_
  - example_prompt: PromptTemplate
  - example: 예시 문답
  - suffix: 예시 문답 뒤에 붙일 사용자의 질문
  - input_variables: 질문에 들어갈 키워드 (유효성 검증을 위해 사용)

### 4.2 FewShotChatMessagePromptTemplate

📍 **FewShotPromptTemplate**

- step1. 예시 문답을 통해 FewShotChatMessagePromptTemplate 형식의 프롬프트를 만들고
- step2. ChatPromptTemplate인 메세지 템플릿에 들어감

🌈 **Example**

_example_prompt_

```

examples=[
    {'country': 'France', 'answer': '\n        Here is what I know:\n        Capital: Paris\n        Language: French\n        Food: Wine and Cheese\n        Currency: Euro\n        '},
    {'country': 'Italy', 'answer': '\n        I know this:\n        Capital: Rome\n        Language: Italian\n        Food: Pizza and Pasta\n        Currency: Euro\n        '},
    {'country': 'Greece', 'answer': '\n        I know this:\n        Capital: Athens\n        Language: Greek\n        Food: Souvlaki and Feta Cheese\n        Currency: Euro\n        '}
    ]
example_prompt=ChatPromptTemplate(
    input_variables=['answer', 'country'],
    messages=[
        HumanMessagePromptTemplate(
            prompt=PromptTemplate(
                input_variables=['country'],
                template='What do you know about {country}?'
                )
            ),
        AIMessagePromptTemplate(
            prompt=PromptTemplate(
                input_variables=['answer'],
                template='{answer}'
            )
        )
    ]
)
```

_final_prompt_

```
input_variables=['country']
messages=[
    SystemMessagePromptTemplate(
        prompt=PromptTemplate(
            input_variables=[],
            template='You are a geography expert, you give short answers.'
        )
    ),
    FewShotChatMessagePromptTemplate(
        examples=[
            {'country': 'France', 'answer': '\n        Here is what I know:\n        Capital: Paris\n        Language: French\n        Food: Wine and Cheese\n        Currency: Euro\n        '},
            {'country': 'Italy', 'answer': '\n        I know this:\n        Capital: Rome\n        Language: Italian\n        Food: Pizza and Pasta\n        Currency: Euro\n        '},
            {'country': 'Greece', 'answer': '\n        I know this:\n        Capital: Athens\n        Language: Greek\n        Food: Souvlaki and Feta Cheese\n        Currency: Euro\n        '}
        ],
        example_prompt=ChatPromptTemplate(
            input_variables=['answer', 'country'],
            messages=[
                HumanMessagePromptTemplate(
                    prompt=PromptTemplate(
                        input_variables=['country'],
                        template='What do you know about {country}?'
                    )
                ),
                AIMessagePromptTemplate(
                    prompt=PromptTemplate(
                        input_variables=['answer'],
                        template='{answer}'
                    )
                )
            ]
        )
    ),
    HumanMessagePromptTemplate(
        prompt=PromptTemplate(
            input_variables=['country'],
            template='What do you know about {country}?'
        )
    )
]
```
