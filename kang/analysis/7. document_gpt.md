## DocumentGPT

### 7.1 Magic

ğŸ–¥ï¸ **write**

- ë„˜ê²¨ì¤€ ë¬´ì—‡ì´ë“  í™”ë©´(UI)ì— ë‚˜íƒ€ë‚´ë ¤ê³  í•¨

â¤ï¸â€ğŸ”¥ [ë¼ì´ë¸ŒëŸ¬ë¦¬ Streamlit](https://docs.streamlit.io/develop/api-reference)

### 7.2 Data Flow

ğŸ“ **Streamlit Data flow**

- ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ python íŒŒì¼ ì „ì²´ê°€ ë‹¤ì‹œ ì‹¤í–‰ë¨ (ìœ„ì—ì„œë¶€í„° ëê¹Œì§€)
- ë‹¨ í•˜ë‚˜ë¼ë„ ë³€í•˜ë©´ ëª¨ë“  ê²ƒì„ ë‹¤ì‹œ ê·¸ë¦¼
- cache ê¸°ëŠ¥ì„ ì“´ë‹¤ë©´ ì „ì²´ ì‹¤í–‰ì„ ë§‰ì„ ìˆ˜ ìˆìŒ â˜ ì¶”í›„ ì„¤ëª…

### 7.3 Multi Page

ğŸ–¥ï¸ **sidebar**

> í™”ë©´ ì˜†ì— side bar ìƒì„±

ğŸ“Œ **Sidebarì— itemì„ ë„£ëŠ” ë°©ë²•**

- with í‚¤ì›Œë“œ ì‚¬ìš©

ğŸŒˆ **Example**

```python
st.sidebar.title('sidebar title')

with st.sidebar:
    st.write('sidebar write')
    st.text_input('sigikang')
```

ğŸ“Œ **Streamlitì˜ multi page**

- í”„ë¡œì íŠ¸ í´ë” ë‚´ì— pagesê°€ ìˆì–´ì•¼ì§€ streamlitì´ multipageë¥¼ ì¸ì‹í•¨
- file ëª…ì„ ê¸°ì¤€ìœ¼ë¡œ sidebarê°€ ìƒê¹€
- file ëª…ì— ì¸ë±ìŠ¤ë¥¼ ë¶™ì´ë©´ ìˆœì„œê°€ ìƒê¹€

### 7.4 Chat Messages

ğŸ–¥ï¸ **chat_message**

> ì±„íŒ… í™”ë©´ì²˜ëŸ¼ ë³´ì—¬ì¤Œ

ğŸ–¥ï¸ **status**

> íë¦„ì— ë”°ë¥¸ ìƒíƒœ ë³€ê²½ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŒ

ğŸ“ **Session Status**

- ì—¬ëŸ¬ë²ˆì˜ ì¬ì‹¤í–‰ì—ë„ dataê°€ ë³´ì¡´ë  ìˆ˜ ìˆê²Œ í•¨

### 7.6 Uploading Documents

ğŸ–¥ï¸ **file_uploader**

> file ì—…ë¡œë“œ í™”ë©´

- _parameters_
  - label: í‘œì‹œí•  ë‚´ìš©
  - type: uploadë¥¼ ìœ„í•œ íŒŒì¼ íƒ€ì… ì§€ì •

ğŸ“ **invoke**

- lanchainì˜ ëª¨ë“  componentëŠ” invoke í•¨ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆìŒ
- ë‹¨, ìˆ˜í–‰ë˜ëŠ” ë‚´ìš©ì€ ë‹¤ë¦„

ğŸ“Œ **streamlitì˜ í™˜ê²½ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•**

- .streamlit í´ë” ìƒì„±
  - secrets.toml íŒŒì¼ ìƒì„±

### 7.7 Chat History

ğŸ“ **cache_data**

- ë°ì½”ë ˆì´í„°ë¡œ í™œìš©ë˜ì–´ ì¤‘ë³µ ì‹¤í–‰ì„ ë§‰ìŒ

### 7.8 Chain

- streamlitì—ì„œì˜ chain ì ìš©

### 7.9 Streaming

ğŸ“ **Streaming**

- llmìœ¼ë¡œ OpenAI chat modelì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©´ stream ê°€ëŠ¥
- ë‹¤ë¥¸ llmì€ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²ƒë„ ìˆìŒ

ğŸŒˆ **Example**

```python
llm = ChatOpenAI(
    temperature=0.1,
    streaming=True,
)
```

ğŸ“ **Callback Handler**

- llmì˜ eventë¥¼ listení•˜ëŠ” class
  - event: start, finish, error ..

ğŸŒˆ **Example**

```python
class ChatCallbackHandler(BaseCallbackHandler):

    def on_llm_start(self, *args, **kwargs):
      pass

    def on_llm_end(self, *args, **kwargs):
      pass

    def on_llm_new_token(self, token, *args, **kwargs: Any):
      pass


llm = ChatOpenAI(
    temperature=0.1,
    streaming=True,
    callbacks=[
        ChatCallbackHandler(),
        ],
    )
```

ğŸ–¥ï¸ **empty**

- ë¹ˆ ìƒì
